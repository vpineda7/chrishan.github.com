<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Han Xiaogang's Blog</title>
    <meta name="description" content="">
    <meta name="author" content="Han Xiaogang">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
    <script src="/theme/html5.js"></script>
    <![endif]-->

    <!-- Le styles -->
    <link href="/theme/bootstrap.min.css" rel="stylesheet">
    <link href="/theme/bootstrap.min.responsive.css" rel="stylesheet">
    <link href="/theme/local.css" rel="stylesheet">
    <link href="/theme/pygments.css" rel="stylesheet">

</head>

<body>

<div class="navbar">
    <div class="navbar-inner">
    <div class="container">

         <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
             <span class="icon-bar"></span>
             <span class="icon-bar"></span>
             <span class="icon-bar"></span>
         </a>

        <a class="brand" href="">Han Xiaogang's Blog</a>

        <div class="nav-collapse">
        <ul class="nav">
                    
                            <li><a href="/pages/about.html">About</a></li>
                    <li><a href="/pages/project.html">Project</a></li>
                    <li><a href="/pages/research.html">Research</a></li>
                        </ul>
        </div>
        
    </div>
    </div>
</div>

<div class="container">
    <div class="content">
    <div class="row">

        <div class="span9">
                

        


    <div class='article'>
        <div class="content-title">
            <a href="/quora-ml-problem.html"><h1>My Solution to the Quora ML Problem (Predicting whether a question gets an upvoted answer)</h1></a>
            Thu 15 August 2013

by <a class="url fn" href="/author/han-xiaogang.html">Han Xiaogang</a>
 


 
        </div>
        
        <div><p>The <a href="https://www.hackerrank.com/contests/quora/challenges">Quora ML CodeSprint 2013</a> just finished on hackerrank.com. My entry for the first task - <a href="https://www.hackerrank.com/contests/quora/challenges/quora-ml-answered/leaderboard">Quora ML Problem: Answered</a>, was ranked 7th/71 on the dashboard.</p>
<p>The objective of the task is to predict whether a question gets an upvoted answer within 1 day, given Quora question text and topic data.</p>
<p>I built two classfiers - one based on text features and one based on categorical features, and then built a linear combinator based on the prob output from these two classifiers. The code:</p>
<div class="highlight"><pre><span class="kn">import</span> <span class="nn">json</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">import</span> <span class="nn">math</span>

<span class="kn">from</span> <span class="nn">nltk.corpus</span> <span class="kn">import</span> <span class="n">stopwords</span>

<span class="kn">from</span> <span class="nn">sklearn.feature_extraction.text</span> <span class="kn">import</span> <span class="n">CountVectorizer</span>
<span class="kn">from</span> <span class="nn">sklearn.feature_extraction.text</span> <span class="kn">import</span> <span class="n">TfidfTransformer</span>
<span class="kn">from</span> <span class="nn">sklearn.naive_bayes</span> <span class="kn">import</span> <span class="n">MultinomialNB</span>
<span class="kn">from</span> <span class="nn">sklearn.linear_model</span> <span class="kn">import</span> <span class="n">LogisticRegression</span>


<span class="n">english_stopwords</span> <span class="o">=</span> <span class="n">stopwords</span><span class="o">.</span><span class="n">words</span><span class="p">(</span><span class="s">&#39;english&#39;</span><span class="p">)</span>
<span class="n">english_punctuations</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;,&#39;</span><span class="p">,</span> <span class="s">&#39;.&#39;</span><span class="p">,</span> <span class="s">&#39;:&#39;</span><span class="p">,</span> <span class="s">&#39;;&#39;</span><span class="p">,</span> <span class="s">&#39;?&#39;</span><span class="p">,</span> <span class="s">&#39;(&#39;</span><span class="p">,</span> <span class="s">&#39;)&#39;</span><span class="p">,</span> <span class="s">&#39;[&#39;</span><span class="p">,</span> <span class="s">&#39;]&#39;</span><span class="p">,</span> <span class="s">&#39;&amp;&#39;</span><span class="p">,</span> <span class="s">&#39;!&#39;</span><span class="p">,</span> <span class="s">&#39;*&#39;</span><span class="p">,</span> <span class="s">&#39;@&#39;</span><span class="p">,</span> <span class="s">&#39;#&#39;</span><span class="p">,</span> <span class="s">&#39;$&#39;</span><span class="p">,</span> <span class="s">&#39;%&#39;</span><span class="p">]</span>

<span class="n">IS_LOCAL</span> <span class="o">=</span> <span class="bp">False</span>


<span class="k">def</span> <span class="nf">load</span><span class="p">():</span>
    <span class="n">TRAIN_N</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">train_docs</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="n">TEST_N</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">test_docs</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">if</span> <span class="n">IS_LOCAL</span><span class="p">:</span>
        <span class="n">source</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s">&#39;sample/answered_data_10k.in&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">readlines</span><span class="p">()</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">source</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">stdin</span>
    <span class="k">for</span> <span class="n">ind</span><span class="p">,</span> <span class="n">line</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">source</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">ind</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">TRAIN_N</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">line</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span>
        <span class="k">elif</span> <span class="mi">1</span> <span class="o">&lt;=</span> <span class="n">ind</span> <span class="o">&lt;=</span> <span class="n">TRAIN_N</span><span class="p">:</span>
            <span class="n">train_docs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">line</span><span class="o">.</span><span class="n">strip</span><span class="p">()))</span>
        <span class="k">elif</span> <span class="n">ind</span> <span class="o">==</span> <span class="n">TRAIN_N</span> <span class="o">+</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">TEST_N</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">line</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">test_docs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">line</span><span class="o">.</span><span class="n">strip</span><span class="p">()))</span>

    <span class="k">return</span> <span class="n">train_docs</span><span class="p">,</span> <span class="n">test_docs</span>


<span class="k">def</span> <span class="nf">verify</span><span class="p">(</span><span class="n">actual_dict</span><span class="p">,</span> <span class="n">pred_dict</span><span class="p">):</span>
    <span class="n">correct_count</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">pred_dict</span><span class="o">.</span><span class="n">iteritems</span><span class="p">():</span>
        <span class="n">true_v</span> <span class="o">=</span> <span class="n">actual_dict</span><span class="p">[</span><span class="n">k</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">true_v</span> <span class="o">==</span> <span class="n">v</span><span class="p">:</span>
            <span class="n">correct_count</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="k">return</span> <span class="nb">float</span><span class="p">(</span><span class="n">correct_count</span><span class="p">)</span> <span class="o">/</span> <span class="nb">len</span><span class="p">(</span><span class="n">pred_dict</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">get_text</span><span class="p">(</span><span class="n">doc</span><span class="p">):</span>
    <span class="n">text</span> <span class="o">=</span> <span class="n">doc</span><span class="p">[</span><span class="s">&#39;question_text&#39;</span><span class="p">]</span>
    <span class="n">context_topic</span> <span class="o">=</span> <span class="n">doc</span><span class="p">[</span><span class="s">&#39;context_topic&#39;</span><span class="p">]</span>
    <span class="n">topics</span> <span class="o">=</span> <span class="n">doc</span><span class="p">[</span><span class="s">&#39;topics&#39;</span><span class="p">]</span>

    <span class="n">context_topic_text</span> <span class="o">=</span> <span class="s">&#39;&#39;</span>
    <span class="k">if</span> <span class="n">context_topic</span><span class="p">:</span>
        <span class="n">context_topic_text</span> <span class="o">=</span> <span class="n">context_topic</span><span class="p">[</span><span class="s">&#39;name&#39;</span><span class="p">]</span>
    <span class="n">topic_text</span> <span class="o">=</span> <span class="s">&#39;&#39;</span>
    <span class="k">if</span> <span class="n">topics</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">topic</span> <span class="ow">in</span> <span class="n">topics</span><span class="p">:</span>
            <span class="n">topic_text</span> <span class="o">+=</span> <span class="n">topic</span><span class="p">[</span><span class="s">&#39;name&#39;</span><span class="p">]</span>
    <span class="n">text</span> <span class="o">=</span> <span class="s">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">text</span><span class="p">,</span> <span class="n">context_topic_text</span><span class="p">,</span> <span class="n">topic_text</span><span class="p">])</span>
    <span class="k">return</span> <span class="n">text</span>


<span class="k">def</span> <span class="nf">text_clf</span><span class="p">(</span><span class="n">train_docs</span><span class="p">,</span> <span class="n">test_docs</span><span class="p">):</span>
    <span class="n">vectorizer</span> <span class="o">=</span> <span class="n">CountVectorizer</span><span class="p">(</span><span class="n">stop_words</span><span class="o">=</span><span class="n">english_stopwords</span><span class="p">)</span>
    <span class="n">corpus</span> <span class="o">=</span> <span class="p">[</span><span class="n">get_text</span><span class="p">(</span><span class="n">doc</span><span class="p">)</span> <span class="k">for</span> <span class="n">doc</span> <span class="ow">in</span> <span class="n">train_docs</span><span class="p">]</span>
    <span class="n">X</span> <span class="o">=</span> <span class="n">vectorizer</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">corpus</span><span class="p">)</span>
    <span class="n">tfidf_transformer</span> <span class="o">=</span> <span class="n">TfidfTransformer</span><span class="p">()</span>
    <span class="n">X</span> <span class="o">=</span> <span class="n">tfidf_transformer</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>

    <span class="n">Y</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">doc</span> <span class="ow">in</span> <span class="n">train_docs</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">doc</span><span class="p">[</span><span class="s">&#39;__ans__&#39;</span><span class="p">]</span> <span class="p">:</span>
            <span class="n">Y</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">Y</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>

    <span class="n">classifier</span> <span class="o">=</span> <span class="n">MultinomialNB</span><span class="p">()</span>
    <span class="n">classifier</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">Y</span><span class="p">)</span>

    <span class="n">corpus</span> <span class="o">=</span> <span class="p">[</span><span class="n">get_text</span><span class="p">(</span><span class="n">doc</span><span class="p">)</span> <span class="k">for</span> <span class="n">doc</span> <span class="ow">in</span> <span class="n">test_docs</span><span class="p">]</span>
    <span class="n">X</span> <span class="o">=</span> <span class="n">vectorizer</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">corpus</span><span class="p">)</span>
    <span class="n">X</span> <span class="o">=</span> <span class="n">tfidf_transformer</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>
    <span class="n">predictions</span> <span class="o">=</span> <span class="n">classifier</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>
    <span class="n">pred_prob</span> <span class="o">=</span> <span class="n">classifier</span><span class="o">.</span><span class="n">predict_proba</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">predictions</span><span class="p">,</span> <span class="n">pred_prob</span>


<span class="k">def</span> <span class="nf">cat_clf</span><span class="p">(</span><span class="n">train_docs</span><span class="p">,</span> <span class="n">test_docs</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">extract</span><span class="p">(</span><span class="n">doc</span><span class="p">):</span>
        <span class="n">is_anonymous</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="k">if</span> <span class="n">doc</span><span class="p">[</span><span class="s">&#39;anonymous&#39;</span><span class="p">]:</span>
            <span class="n">is_anonymous</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">cat_count</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="mf">0.85</span> <span class="o">+</span> <span class="nb">len</span><span class="p">(</span><span class="n">doc</span><span class="p">[</span><span class="s">&#39;topics&#39;</span><span class="p">]))</span>
        <span class="n">cat_following_count</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="mf">0.85</span> <span class="o">+</span> <span class="nb">sum</span><span class="p">([</span><span class="n">t</span><span class="p">[</span><span class="s">&#39;followers&#39;</span><span class="p">]</span> <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">doc</span><span class="p">[</span><span class="s">&#39;topics&#39;</span><span class="p">]]))</span>
        <span class="n">v</span> <span class="o">=</span> <span class="p">[</span><span class="n">is_anonymous</span><span class="p">,</span> <span class="n">cat_count</span><span class="p">,</span> <span class="n">cat_following_count</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">v</span>

    <span class="n">X</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">doc</span> <span class="ow">in</span> <span class="n">train_docs</span><span class="p">:</span>
        <span class="n">v</span> <span class="o">=</span> <span class="n">extract</span><span class="p">(</span><span class="n">doc</span><span class="p">)</span>
        <span class="n">X</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>

    <span class="n">Y</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">doc</span> <span class="ow">in</span> <span class="n">train_docs</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">doc</span><span class="p">[</span><span class="s">&#39;__ans__&#39;</span><span class="p">]</span> <span class="p">:</span>
            <span class="n">Y</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">Y</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>

    <span class="n">clf</span> <span class="o">=</span> <span class="n">LogisticRegression</span><span class="p">(</span><span class="n">tol</span><span class="o">=</span><span class="mf">1e-8</span><span class="p">,</span> <span class="n">penalty</span><span class="o">=</span><span class="s">&#39;l2&#39;</span><span class="p">,</span> <span class="n">C</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
    <span class="n">clf</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">Y</span><span class="p">)</span>

    <span class="n">X</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">doc</span> <span class="ow">in</span> <span class="n">test_docs</span><span class="p">:</span>
        <span class="n">v</span> <span class="o">=</span> <span class="n">extract</span><span class="p">(</span><span class="n">doc</span><span class="p">)</span>
        <span class="n">X</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>

    <span class="n">pred</span> <span class="o">=</span> <span class="n">clf</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>
    <span class="n">pred_prob</span> <span class="o">=</span> <span class="n">clf</span><span class="o">.</span><span class="n">predict_proba</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">pred</span><span class="p">,</span> <span class="n">pred_prob</span>


<span class="k">def</span> <span class="nf">build_model</span><span class="p">(</span><span class="n">train_docs</span><span class="p">,</span> <span class="n">test_docs</span><span class="p">):</span>
    <span class="n">text_pred1</span><span class="p">,</span> <span class="n">text_prob1</span> <span class="o">=</span> <span class="n">text_clf</span><span class="p">(</span><span class="n">train_docs</span><span class="p">,</span> <span class="n">test_docs</span><span class="p">)</span>
    <span class="n">text_pred2</span><span class="p">,</span> <span class="n">text_prob2</span> <span class="o">=</span> <span class="n">cat_clf</span><span class="p">(</span><span class="n">train_docs</span><span class="p">,</span> <span class="n">test_docs</span><span class="p">)</span>
    <span class="n">prob</span> <span class="o">=</span> <span class="p">(</span><span class="n">text_prob1</span> <span class="o">+</span> <span class="n">text_prob2</span><span class="p">)</span> <span class="o">/</span> <span class="mf">2.0</span>

    <span class="n">pred_dict</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">ind</span><span class="p">,</span> <span class="n">p</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">prob</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mf">0.5</span><span class="p">:</span>
            <span class="n">mark</span> <span class="o">=</span> <span class="bp">True</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">mark</span> <span class="o">=</span> <span class="bp">False</span>
        <span class="n">d</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">&#39;__ans__&#39;</span><span class="p">:</span> <span class="n">mark</span><span class="p">,</span>
            <span class="s">&#39;question_key&#39;</span><span class="p">:</span> <span class="n">test_docs</span><span class="p">[</span><span class="n">ind</span><span class="p">][</span><span class="s">&#39;question_key&#39;</span><span class="p">],</span>

        <span class="p">}</span>
        <span class="n">d</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
        <span class="k">print</span> <span class="n">d</span>
        <span class="n">pred_dict</span><span class="p">[</span><span class="n">test_docs</span><span class="p">[</span><span class="n">ind</span><span class="p">][</span><span class="s">&#39;question_key&#39;</span><span class="p">]]</span> <span class="o">=</span> <span class="n">mark</span>

    <span class="k">if</span> <span class="n">IS_LOCAL</span><span class="p">:</span>
        <span class="n">actual_dict</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="nb">open</span><span class="p">(</span><span class="s">&#39;sample/answered_data_10k.out&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">readlines</span><span class="p">():</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
            <span class="n">actual_dict</span><span class="p">[</span><span class="n">data</span><span class="p">[</span><span class="s">&#39;question_key&#39;</span><span class="p">]]</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s">&#39;__ans__&#39;</span><span class="p">]</span>

        <span class="k">print</span> <span class="n">verify</span><span class="p">(</span><span class="n">actual_dict</span><span class="p">,</span> <span class="n">pred_dict</span><span class="p">)</span>


<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">train_docs</span><span class="p">,</span> <span class="n">test_docs</span> <span class="o">=</span> <span class="n">load</span><span class="p">()</span>
    <span class="n">build_model</span><span class="p">(</span><span class="n">train_docs</span><span class="p">,</span> <span class="n">test_docs</span><span class="p">)</span>
</pre></div></div>
        <hr />
    </div>
		
    
 
        

 

    <div class='article'>
        <a href="/a-twitter-bot-for-programmingreddit.html"><h2>A Twitter Bot for programming.reddit</h2></a>
        <div class= "well small"> Sat 22 September 2012

by <a class="url fn" href="/author/han-xiaogang.html">Han Xiaogang</a>
 


 </div>
        <div class="summary"><p>Being a long-term programming.reddit reader, I have tried many ways (web
browsing, GReader, and now by following @reddit_prog on twitter) to
follow stories appearing there. Following @reddit_prog is very
comfortable for me, because it saved me a lot of time and it is easy to
skip irrelevant stories at ...</p> <a class="btn btn-info xsmall" href="/a-twitter-bot-for-programmingreddit.html">read more</a></div>
    </div>	
				
    
 
        

 

    <div class='article'>
        <a href="/clustered-hacker-news.html"><h2>Clustered Hacker News</h2></a>
        <div class= "well small"> Sat 22 September 2012

by <a class="url fn" href="/author/han-xiaogang.html">Han Xiaogang</a>
 


 </div>
        <div class="summary"><h3>The goal</h3>
<p>Topic based organization of information sources might be a solution to
the information (cognition) overload problem on the social Web. For
example, There are lots of news posted everyday on Hacker News, a
startup news aggregation site. The problem is that different users have
different preference on the ...</p> <a class="btn btn-info xsmall" href="/clustered-hacker-news.html">read more</a></div>
    </div>	
				
    
 
        

 

    <div class='article'>
        <a href="/contextual-subtitle-for-language-learning.html"><h2>Contextual Subtitle for Language Learning</h2></a>
        <div class= "well small"> Sat 22 September 2012

by <a class="url fn" href="/author/han-xiaogang.html">Han Xiaogang</a>
 


 </div>
        <div class="summary"><p>As a Chinese, I occasionally learn oral English via watching American TV
Series. One problem is about the subtitle. If I use the Chinese
subtitle, then I rely on the subtitle for understanding, rather than
"hearing"; otherwise, if I use the English subtitle, then there are
regular words that are ...</p> <a class="btn btn-info xsmall" href="/contextual-subtitle-for-language-learning.html">read more</a></div>
    </div>	
				
    
 
        

 

    <div class='article'>
        <a href="/parsing-evernote-export-file-enex-using-python.html"><h2>Parsing Evernote export file (.enex) using Python</h2></a>
        <div class= "well small"> Sat 22 September 2012

by <a class="url fn" href="/author/han-xiaogang.html">Han Xiaogang</a>
 


 </div>
        <div class="summary"><h3>Introduction</h3>
<p>My wife keeps all the stories written about our baby in Evernote and
then publishes them on her blog every few days. Recently, as the baby
boy is going to celebrate his first birthday, my wife plans to publish
the stories as a book. This post is about how ...</p> <a class="btn btn-info xsmall" href="/parsing-evernote-export-file-enex-using-python.html">read more</a></div>
    </div>	
				
    
 
        

 

    <div class='article'>
        <a href="/shouldinvent.html"><h2>shouldinvent</h2></a>
        <div class= "well small"> Sat 22 September 2012

by <a class="url fn" href="/author/han-xiaogang.html">Han Xiaogang</a>
 


 </div>
        <div class="summary"><p>My new side project -
<a href="http://shouldinvent.hanxiaogang.com/">ShouldInvent</a> is online, which is
basically an automatic idea aggregation web application based on Twitter
Search. The primary motivation is to provide inspirations for engineers
in various domains.</p>
<p>The project is initially inspired by
<a href="http://twitter.com/#!/sivers/status/77683713793736704">one</a> of
<a href="http://twitter.com/#!/sivers">sivers</a>'s tweets:</p>
<p><a href="http://twitter.com/#!/sivers">@sivers</a> Derek Sivers - Entrepreneurs,
need inspiration for ...</p> <a class="btn btn-info xsmall" href="/shouldinvent.html">read more</a></div>
    </div>	
				
    
 
        

 

    <div class='article'>
        <a href="/statistical-analysis-on-usethiscom-tool-usage-patterns.html"><h2>Statistical analysis on usethis.com tool usage patterns</h2></a>
        <div class= "well small"> Sat 22 September 2012

by <a class="url fn" href="/author/han-xiaogang.html">Han Xiaogang</a>
 


 </div>
        <div class="summary"><p><a href="http://usesthis.com/">The Setup</a> is a "nerdy interview website asking
people from all walks of life what they use to get the job done". I am
pretty interested in the tools mentioned in the interviews and their
usage patterns. Therefore I created a
<a href="http://usethistool.appspot.com/">webapp</a> for users to explore the
tools, users, user ...</p> <a class="btn btn-info xsmall" href="/statistical-analysis-on-usethiscom-tool-usage-patterns.html">read more</a></div>
    </div>	
				
    
 
        

 

    <div class='article'>
        <a href="/the-setup-tools-usage-statistics.html"><h2>The Setup Tools Usage Statistics</h2></a>
        <div class= "well small"> Sat 22 September 2012

by <a class="url fn" href="/author/han-xiaogang.html">Han Xiaogang</a>
 


 </div>
        <div class="summary"><p><a href="http://usesthis.com/">The Setup</a> is an interesting interview website.
When browsing the latest interview there yesterday, I come out with the
idea to do a simple statistics on the tool usage patterns for the people
interviewed. The first statistic is about the frequency of tools
mentioned by all people. Here is the ...</p> <a class="btn btn-info xsmall" href="/the-setup-tools-usage-statistics.html">read more</a></div>
    </div>	
				
    
 
        

 

    <div class='article'>
        <a href="/tweet-length-distribution.html"><h2>tweet length distribution</h2></a>
        <div class= "well small"> Sat 22 September 2012

by <a class="url fn" href="/author/han-xiaogang.html">Han Xiaogang</a>
 


 </div>
        <div class="summary"><h3>My version</h3>
<p>( 52,261,787.tweets from 20388 random users)</p>
<p><img alt="image" src="http://hanxiaogang.com/site_media/static/images/posts/dist.png" /></p>
<h3>Isaac Hepworth's.version</h3>
<p>(1 million tweets, retweets included)
<a href="https://twitter.com/#!/isaach/status/155437871149481984">link</a></p>
<p><img alt="image" src="http://hanxiaogang.com/site_media/static/images/posts/isaac.png" /></p>
<h3>Will Fitzgerald.'s version</h3>
<p>(50k tweets)
<a href="http://willwhim.wordpress.com/2012/01/07/distribution-of-tweet-lengths/">link</a></p>
<p><img alt="image" src="http://hanxiaogang.com/site_media/static/images/posts/will.png" />
Seems like the distribution in my statistics result is just between the
other two curves. Is there really spikes in between 20-40 and ...</p> <a class="btn btn-info xsmall" href="/tweet-length-distribution.html">read more</a></div>
    </div>	
				
    
 
        

 

    <div class='article'>
        <a href="/using-google-books-api-to-improve-ntu-library-book-search.html"><h2>Using Google Books API to Improve NTU Library Book Search</h2></a>
        <div class= "well small"> Sat 22 September 2012

by <a class="url fn" href="/author/han-xiaogang.html">Han Xiaogang</a>
 


 </div>
        <div class="summary"><h3>Introduction</h3>
<p>NTU library search
(<a href="http://ntulibrarysearch.appspot.com/">http://ntulibrarysearch.appspot.com/</a>)
is an app to facilitate searching books in <a href="http://opac.ntu.edu.sg/">NTU
library</a> with improved accuracy and relevance.
It is powered by <a href="http://code.google.com/apis/books/">Google Books search
api</a>. The application is deployed on
Google Appengine and the <a href="https://github.com/chrishan/ntulibrarysearch">source
code</a> is available on
GitHub.</p>
<h3>Why?</h3>
<p>The book search ...</p> <a class="btn btn-info xsmall" href="/using-google-books-api-to-improve-ntu-library-book-search.html">read more</a></div>
    </div>	
				
            <div class="pagination">
<ul>
    <li class="prev disabled"><a href="#">&larr; Previous</a></li>

    <li class="active"><a href="/index.html">1</a></li>

    <li class="next disabled"><a href="#">&rarr; Next</a></li>

</ul>
</div>    
 
  
        </div>
        
        <div class="span3">

            <div class="well" style="padding: 8px 0; background-color: #FBFBFB;">
            <ul class="nav nav-list">
                <li class="nav-header"> 
                Site
                </li>
            
                <li><a href="/">Archives</a>
                <li><a href="/tags.html">Tags</a>
                <li><a href="/" rel="alternate">Atom feed</a></li>
                            </ul>
            </div>


                        <div class="well" style="padding: 8px 0; background-color: #FBFBFB;">
            <ul class="nav nav-list">
                <li class="nav-header"> 
                Categories
                </li>
                
                                <li><a href="/category/.html"></a></li>
                                <li><a href="/category/python.html">Python</a></li>
                                   
            </ul>
            </div>
            

            

                        <div class="social">
            <div class="well" style="padding: 8px 0; background-color: #FBFBFB;">
            <ul class="nav nav-list">
                <li class="nav-header"> 
                Social
                </li>
           
                                <li><a href="http://twitter.com/xganghan">Twitter</a></li>
                                <li><a href="https://github.com/chrishan">GitHub</a></li>
                            </ul>
            </div>
            </div>
            
        </div>  
    </div>     </div> 
<footer>
<br />
<p><a href="">Han Xiaogang's Blog</a> &copy; Han Xiaogang 2012</p>
</footer>

</div> <!-- /container -->
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
<script src="http://twitter.github.com/bootstrap/assets/js/bootstrap-collapse.js"></script>
 
</body>
</html>